## Using the package with Plotly
### Example of a bar chart

```{python}
from afcharts.theme_af import theme_af
import plotly.graph_objects as go
import pandas as pd
import plotly.express as px

# Load the gapminder dataset from plotly.express
df = px.data.gapminder().query("year == 2007 & continent == 'Americas'")


top5 = df.nlargest(5, "pop")

fig = go.Figure()

fig.add_trace(
    go.Bar(
        x=top5["country"],
        y=top5["pop"],  # Repeat the category name for each x value
        name="test bar",  # Use the x value column name as the trace name
    )
)

# Update layout
fig.update_layout(
    template=theme_af(grid="y"),
    title=dict(
        text="The U.S.A. is the most populous country in\nthe Americas",
        subtitle=dict(text="Population of countries in the Americas, 2007"),
    ),
    margin=dict(b=70),  # Increase bottom margin to make space for source
    annotations=[
        dict(
            text="Source: Gapminder",
            xref="paper",
            yref="paper",
            x=0,
            y=-0.1,
            xanchor="left",
        )
    ],
    meta=dict(alt="Bar chart showing sales of Product A (23 units), Product B (45 units), and Product C (56 units)."),
)

fig.show()
```

## Example of a line chart with duo palette

```{python}
import plotly.graph_objects as go
import pandas as pd
import plotly.express as px

# AF Package
from afcharts.theme_af import theme_af
from afcharts.assets.af_colours import duo

# Load the gapminder dataset from plotly.express
df = px.data.gapminder()

df = df[df["country"].isin(["United Kingdom", "China"])]

fig = go.Figure()

# Add a trace for each continent
for country in df["country"].unique():
    df_country = df[df["country"] == country]
    fig.add_trace(
        go.Scatter(
            x=df_country["year"],
            y=df_country["lifeExp"],
            mode="lines",
            name=country,
            text=df_country["country"],
        )
    )

# Update layout
fig.update_layout(
    template=theme_af(grid="y", colour_palette=duo),
    xaxis=dict(
        title="Year",
    ),
    title=dict(
        text="Living Longer",
        subtitle=dict(text="Life Expectancy in the United Kingdom and China 1952-2007"),
    ),
    margin=dict(b=70),  # Increase bottom margin to make space for source
    annotations=[
        dict(
            text="Source: Gapminder",
            xref="paper",
            yref="paper",
            x=0,
            y=-0.1,
            xanchor="left",
        )
    ],
    meta=dict(alt="Bar chart showing sales of Product A (23 units), Product B (45 units), and Product C (56 units)."),
)

fig.update_yaxes(range=[0, 82])

fig.show()
```

## Example of a scatter chart

```{python}
import plotly.graph_objects as go
import pandas as pd
import plotly.express as px

# AF Package
from afcharts.theme_af import theme_af
from afcharts.assets.af_colours import duo

# Load the gapminder dataset from plotly.express
df = px.data.gapminder()

df = df.query("year == 2007")

fig = go.Figure()

fig.add_trace(
    go.Scatter(
        x=df["gdpPercap"],
        y=df["lifeExp"],
        mode="markers",
    )
)

# Update layout
fig.update_layout(
    template=theme_af(grid="xy", colour_palette=duo),
    xaxis=dict(
        title="GDP (US$, inflation-adjusted)",
    ),
    yaxis=dict(
        title="Life\nExpectancy",
    ),
    title=dict(
        text="The relationship between GDP and Life Expectancy is complex",
        subtitle=dict(text="GDP and Life Expectancy for all countires, 2007"),
    ),
    annotations=[
        dict(
            text="Source: Gapminder",
            xref="paper",
            yref="paper",
            x=0,
            y=-0.1,
            xanchor="left",
        )
    ],
)

fig.show()
```
